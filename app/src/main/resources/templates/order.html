<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="header :: header(~{::title},~{::link})">
    <title>Log In</title>
    <link rel="stylesheet" href="/static/css/signin.css" th:href="@{/css/signin.css}">
</head>

<body th:replace="common::bootstrap(~{::div})">
<div class="cover-container d-flex w-100 h-100 p-1 mx-auto flex-column">

    <div th:replace="header-component :: header"/>

    <main class="col-md-6 offset-md-2">
        <a sec:authorize="hasRole('ADMIN')" th:href="@{/orders}">Back to orders</a>
        <h2>Order info</h2>
        <table class="table">
            <tbody>
            <tr>
                <th>Order ID</th>
                <td th:text="${order.getId().getId()}">Order ID</td>
            </tr>
            <tr>
                <th>Customer</th>
                <td th:text="${order.getCustomer().getName()}">Customer</td>
            </tr>
            <tr th:if="${order.getEmployee()}">
                <th>Assignee</th>
                <td th:text="${order.getEmployee().getName()}">Assignee</td>
            </tr>
            <tr th:unless="${order.getEmployee()}">
                <th>Assignee</th>
                <td>Not Assigned</td>
            </tr>
            <tr>
                <th>Status</th>
                <td th:text="${order.getStatus()}">Status</td>
            </tr>
            </tbody>
        </table>
        <a sec:authorize="hasRole('ADMIN')" class="btn btn-primary" th:href="@{/orders/{id}/edit(id=${order.getId().getId()})}">Edit</a>
        <div th:unless="${order.getServices().isEmpty()}">
            <h2>Services info</h2>
            <table class="table" th:each="service : ${order.getServices()}">
                <tbody>
                <tr>
                    <th>Service ID</th>
                    <td th:text="${service.getId().getId()}">Service ID</td>
                </tr>
                <tr>
                    <th>Number of copies</th>
                    <td th:text="${service.getCopiesNumber()}">0</td>
                </tr>
                <tr>
                    <th>Page per sheet</th>
                    <td th:text="${service.getPagesPerSheet()}">0</td>
                </tr>
                <tr>
                    <th>Pages</th>
                    <td th:text="${service.getPages()}">All</td>
                </tr>
                <tr>
                    <th>Comments</th>
                    <td th:text="${service.getComment()}">All</td>
                </tr>
                </tbody>
            </table>
        </div>
    </main>
    <div th:replace="footer-component::footer"></div>
</div>


</body>
</html>